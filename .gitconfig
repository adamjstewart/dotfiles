[alias]

    # Abbreviated command names
    ad = add
    bi = bisect
    br = branch
    ci = commit
    co = checkout
    di = diff
    lo = log
    pl = pull
    ps = push
    rb = rebase
    rs = restore
    st = status
    sw = switch

    # See changes since branching off of main branch
    changes = "!f() { \
        current=$(git rev-parse --abbrev-ref HEAD); \
        main=$(git symbolic-ref refs/remotes/origin/HEAD | sed 's@^refs/remotes/origin/@@'); \
        commit=$(git merge-base --fork-point \"$main\" \"$current\"); \
        git diff \"$commit\"...; \
    }; f"

    # Rebase off of the latest commit that has completed GitLab CI (Spack-only)
    #
    # Examples:
    #
    # > git lab merge
    # > git lab pull upstream develop
    # > git lab rebase develop
    lab = "!f() { \
        commit=$(curl -L \"https://gitlab.spack.io/api/v4/projects/2/pipelines?scope=finished&ref=develop&per_page=1\" 2> /dev/null | jq -r first.sha); \
        case \"$1\" in \
            merge) \
                git merge \"$commit\"; \
                ;; \
            pull | pl ) \
                git fetch \"$2\" \"$3\"; \
                git merge \"$commit\"; \
                ;; \
            rebase | rb) \
                git rebase --onto \"$commit\" \"$2\"; \
                ;; \
            *) \
                echo \"Invalid choice: $1\"; \
                ;; \
        esac; \
    }; f"

    # Delete all local branches except the main branch
    purge = "!f() { \
        main=$(git symbolic-ref refs/remotes/origin/HEAD | sed 's@^refs/remotes/origin/@@'); \
        git checkout \"$main\"; \
        git branch | grep -v \"$main\" | xargs git branch -D; \
    }; f"

[color]

    # Use colors in Git commands that are capable of colored output
    ui = auto

[commit]

    # Automatically sign using GPG keys
    # Instructions for copying GPG keys from one machine to another:
    # https://makandracards.com/makandra-orga/37763-gpg-extract-private-key-and-import-on-different-machine
    gpgsign = true

[core]

    # Set the default editor
    editor = vim

    # Use global .gitignore file to ignore certain filetypes
    excludesfile = ~/.gitignore

[diff]

    # Use vimdiff as the default difftool
    tool = vimdiff

[difftool]

    # Disable the prompt asking you if you want to open with vimdiff
    prompt = False

[merge]

    # Use vimdiff as the default mergetool
    tool = vimdiff

[mergetool]

    # Disable the prompt asking you if you want to open with vimdiff
    prompt = False

[pull]
    # Don't merge or rebase when branch has local changes
    ff = only

[push]

    # Unless otherwise specified, push the current branch to a remote branch of the same name
    default = current

[rerere]

    # Reuse recorded resolution of conflicted merges
    enabled = true

[user]

    # Set user commit information
    email = ajstewart426@gmail.com
    name = Adam J. Stewart
    signingkey = C66C0675661156FC
